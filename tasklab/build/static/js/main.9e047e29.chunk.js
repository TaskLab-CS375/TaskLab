(this.webpackJsonptasklab=this.webpackJsonptasklab||[]).push([[0],{20:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),s=a.n(r),c=a(21),o=a.n(c),i=(a(29),a(30),a(31),a(11)),l=a(7),u=a(8),b=a(10),h=a(9),j=a(2),d=a(22);var m=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return"Hello"}}]),a}(r.Component),p=a(13),g=(a(20),function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.value,r=t.name;n.setState(Object(p.a)({},r,a))},n.onSubmit=function(e){e.preventDefault(),fetch("/api/login",{method:"POST",body:JSON.stringify(n.state),headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status)throw new Error(e.error);n.props.history.push("/")})).catch((function(e){console.log(e),alert("Error logging in. Please try again.")}))},n.state={email:"",password:""},n}return Object(u.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{id:"form-root",children:Object(n.jsxs)("form",{className:"form-signin",onSubmit:this.onSubmit,children:[Object(n.jsx)("h1",{className:"h3 mb-3 text-center",children:"Login Below!"}),Object(n.jsx)("input",{type:"email",name:"email",placeholder:"Enter email",value:this.state.email,onChange:this.handleInputChange,className:"form-control",required:!0,autoFocus:!0}),Object(n.jsx)("input",{type:"password",name:"password",placeholder:"Enter password",value:this.state.password,onChange:this.handleInputChange,className:"form-control",required:!0}),Object(n.jsx)("button",{className:"btn btn-lg btn-primary btn-block",type:"submit",children:"Log in"}),Object(n.jsx)(i.b,{className:"text-center",to:"/register",children:"Create your account here!"})]})})}}]),a}(r.Component)),O=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.value,r=t.name;n.setState(Object(p.a)({},r,a))},n.onSubmit=function(e){e.preventDefault(),fetch("/api/register",{method:"POST",body:JSON.stringify(n.state),headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status)throw new Error(e.error);console.log("Logged in")})).catch((function(e){console.log(e),alert("Error logging in. Please try again.")}))},n.state={firstName:"",lastName:"",email:"",password:""},n}return Object(u.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{id:"form-root",children:Object(n.jsxs)("form",{className:"form-signin",onSubmit:this.onSubmit,children:[Object(n.jsx)("h1",{className:"h3 mb-3",children:"Register!"}),Object(n.jsx)("input",{type:"text",name:"firstName",placeholder:"Enter first name",value:this.state.firstName,onChange:this.handleInputChange,className:"form-control",required:!0}),Object(n.jsx)("input",{type:"text",name:"lastName",placeholder:"Enter last name",value:this.state.lastName,onChange:this.handleInputChange,className:"form-control",required:!0}),Object(n.jsx)("input",{type:"email",name:"email",placeholder:"Enter email",value:this.state.email,onChange:this.handleInputChange,className:"form-control",required:!0}),Object(n.jsx)("input",{type:"password",name:"password",placeholder:"Enter password",value:this.state.password,onChange:this.handleInputChange,className:"form-control",required:!0}),Object(n.jsx)("button",{className:"btn btn-lg btn-primary btn-block",type:"submit",children:"Register"})]})})}}]),a}(r.Component),f=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(n.jsx)("a",{className:"navbar-brand",href:"#",children:Object(n.jsx)("img",{src:"logo.png",alt:""})}),Object(n.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(n.jsx)("span",{className:"navbar-toggler-icon"})}),Object(n.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup",children:Object(n.jsxs)("ul",{className:"navbar-nav",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsxs)(i.b,{className:"nav-link",to:"/",children:["Home ",Object(n.jsx)("span",{className:"sr-only",children:"(current)"})]})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(i.b,{className:"nav-link",to:"/login",children:"Login"})})]})})]}),Object(n.jsxs)(j.d,{children:[Object(n.jsx)(j.b,{path:"/",exact:!0,component:(e=m,function(t){Object(b.a)(r,t);var a=Object(h.a)(r);function r(e){var t;return Object(l.a)(this,r),(t=a.call(this,e)).state={loading:!0,redirect:!1},t}return Object(u.a)(r,[{key:"componentDidMount",value:function(){var e=this;fetch("/checkToken").then((function(t){if(200!==t.status)throw new Error(t.error);e.setState({loading:!1})})).catch((function(t){console.log(t),e.setState({loading:!1,redirect:!0})}))}},{key:"render",value:function(){var t=this.state,a=t.loading,r=t.redirect;return a?null:r?Object(n.jsx)(j.a,{to:"/login"}):Object(n.jsx)(e,Object(d.a)({},this.props))}}]),r}(r.Component))}),Object(n.jsx)(j.b,{path:"/login",component:g}),Object(n.jsx)(j.b,{path:"/register",component:O})]})]});var e}}]),a}(r.Component);var v=function(){return Object(n.jsx)(i.a,{children:Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(f,{})})})};o.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(v,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.9e047e29.chunk.js.map