(this.webpackJsonptasklab=this.webpackJsonptasklab||[]).push([[0],{29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),s=a.n(r),c=a(20),i=a.n(c),o=(a(28),a(29),a(30),a(11)),l=a(2),b=a(13),u=a(7),h=a(8),j=a(10),d=a(9),p=(a(31),function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.value,r=t.name;n.setState(Object(b.a)({},r,a))},n.onSubmit=function(e){e.preventDefault(),fetch("/api/login",{method:"POST",body:JSON.stringify(n.state),headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status)throw new Error(e.error);n.props.history.push("/")})).catch((function(e){console.log(e),alert("Error logging in. Please try again.")}))},n.state={email:"",password:""},n}return Object(h.a)(a,[{key:"render",value:function(){return this.state.redirectToReferrer?Object(n.jsx)(l.a,{to:"/"}):Object(n.jsx)("div",{className:"text-center",children:Object(n.jsxs)("form",{className:"form-signin",onSubmit:this.onSubmit,children:[Object(n.jsx)("h1",{className:"h3 mb-3",children:"Login Below!"}),Object(n.jsx)("input",{type:"email",name:"email",placeholder:"Enter email",value:this.state.email,onChange:this.handleInputChange,className:"form-control",required:!0,autoFocus:!0}),Object(n.jsx)("input",{type:"password",name:"password",placeholder:"Enter password",value:this.state.password,onChange:this.handleInputChange,className:"form-control",required:!0}),Object(n.jsx)("button",{className:"btn btn-lg btn-primary btn-block",type:"submit",children:"Log in"})]})})}}]),a}(r.Component)),m=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.value,r=t.name;n.setState(Object(b.a)({},r,a))},n.onSubmit=function(e){e.preventDefault(),fetch("/api/register",{method:"POST",body:JSON.stringify(n.state),headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status)throw new Error(e.error);console.log("Logged in")})).catch((function(e){console.log(e),alert("Error logging in. Please try again.")}))},n.state={email:"",password:""},n}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(n.jsx)("h1",{children:"Register!"}),Object(n.jsx)("input",{type:"email",name:"email",placeholder:"Enter email",value:this.state.email,onChange:this.handleInputChange,required:!0}),Object(n.jsx)("input",{type:"password",name:"password",placeholder:"Enter password",value:this.state.password,onChange:this.handleInputChange,required:!0}),Object(n.jsx)("input",{type:"submit",value:"Submit"})]})}}]),a}(r.Component),g=a(22);var O=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return"Hello"}}]),a}(r.Component);var v=function(){return Object(n.jsx)(o.a,{children:Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)("div",{className:"container d-flex align-items-center flex-column",children:[Object(n.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(n.jsx)("a",{className:"navbar-brand",href:"#",children:Object(n.jsx)("img",{src:"logo.png",alt:""})}),Object(n.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(n.jsx)("span",{className:"navbar-toggler-icon"})}),Object(n.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup",children:Object(n.jsxs)("ul",{className:"navbar-nav",children:[Object(n.jsx)("li",{className:"nav-item active",children:Object(n.jsxs)(o.b,{className:"nav-link",to:"/",children:["Home ",Object(n.jsx)("span",{className:"sr-only",children:"(current)"})]})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(o.b,{className:"nav-link",to:"/login",children:"Login"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(o.b,{className:"nav-link",to:"/register",children:"Register"})})]})})]}),Object(n.jsxs)(l.d,{children:[Object(n.jsx)(l.b,{path:"/",exact:!0,component:(e=O,function(t){Object(j.a)(r,t);var a=Object(d.a)(r);function r(e){var t;return Object(u.a)(this,r),(t=a.call(this,e)).state={loading:!0,redirect:!1},t}return Object(h.a)(r,[{key:"componentDidMount",value:function(){var e=this;fetch("/checkToken").then((function(t){if(200!==t.status)throw new Error(t.error);e.setState({loading:!1})})).catch((function(t){console.log(t),e.setState({loading:!1,redirect:!0})}))}},{key:"render",value:function(){var t=this.state,a=t.loading,r=t.redirect;return a?null:r?Object(n.jsx)(l.a,{to:"/login"}):Object(n.jsx)(e,Object(g.a)({},this.props))}}]),r}(r.Component))}),Object(n.jsx)(l.b,{path:"/login",component:p}),Object(n.jsx)(l.b,{path:"/register",component:m})]})]})})});var e};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(v,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.55edf47b.chunk.js.map